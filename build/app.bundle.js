(()=>{"use strict";var e,t={990:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e.create({key:"birdman-idle",frames:e.generateFrameNumbers("birdman",{start:0,end:12}),frameRate:8,repeat:-1}),e.create({key:"birdman-hurt",frames:e.generateFrameNumbers("birdman",{start:25,end:26}),frameRate:10,repeat:0})}},813:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e.create({key:"hit-effect",frames:e.generateFrameNumbers("hit-sheet",{start:0,end:4}),frameRate:10,repeat:0}),e.create({key:"sword-default-swing",frames:e.generateFrameNumbers("sword-default",{start:0,end:2}),frameRate:20,repeat:0}),e.create({key:"fireball",frames:[{key:"fireball-1",frame:0},{key:"fireball-2",frame:0},{key:"fireball-3",frame:0}],frameRate:5,repeat:-1}),e.create({key:"iceball",frames:[{key:"iceball-1",frame:0},{key:"iceball-2",frame:0}],frameRate:5,repeat:-1}),e.create({key:"diamond-shine",frames:[{key:"diamond-1",frame:0},{key:"diamond-2",frame:0},{key:"diamond-3",frame:0},{key:"diamond-4",frame:0},{key:"diamond-5",frame:0},{key:"diamond-6",frame:0}],frameRate:5,repeat:-1})}},613:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e.create({key:"idle",frames:e.generateFrameNumbers("player",{start:0,end:8}),frameRate:8,repeat:-1}),e.create({key:"run",frames:e.generateFrameNumbers("player",{start:11,end:16}),frameRate:8,repeat:-1}),e.create({key:"jump",frames:e.generateFrameNumbers("player",{start:17,end:23}),frameRate:2,repeat:-1}),e.create({key:"throw",frames:e.generateFrameNumbers("player-throw",{start:0,end:7}),frameRate:14,repeat:0}),e.create({key:"slide",frames:e.generateFrameNumbers("player-slide-sheet",{start:0,end:2}),frameRate:20,repeat:0})}},68:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{e.create({key:"snaky-walk",frames:e.generateFrameNumbers("snaky",{start:0,end:8}),frameRate:8,repeat:-1}),e.create({key:"snaky-hurt",frames:e.generateFrameNumbers("snaky",{start:21,end:22}),frameRate:8,repeat:0})}},338:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(351));class r extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,i),e.add.existing(this),e.physics.add.existing(this),this.damage=15,this.attackSpeed=1e3,this.weaponAnim=i+"-swing",this.wielder=null,this.effectManager=new a.default(this.scene),this.setOrigin(.5,1),this.setDepth(10),this.activateWeapon(!1),this.on("animationcomplete",(e=>{e.key===this.weaponAnim&&(this.activateWeapon(!1),this.body.checkCollision.none=!1,this.body.reset(0,0))}),this)}preUpdate(e,t){super.preUpdate(e,t),this.active&&(this.wielder.lastDirection===Phaser.Physics.Arcade.FACING_RIGHT?(this.setFlipX(!1),this.body.reset(this.wielder.x+10,this.wielder.y)):(this.setFlipX(!0),this.body.reset(this.wielder.x-10,this.wielder.y)))}swing(e){this.wielder=e,this.activateWeapon(!0),this.anims.play(this.weaponAnim,!0)}deliversHit(e){const t={x:this.x,y:this.getRightCenter().y};this.effectManager.playEffectOn("hit-effect",e,t),this.body.checkCollision.none=!0}activateWeapon(e){this.setActive(e),this.setVisible(e)}}t.default=r},634:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(351));class r extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,i),e.add.existing(this),e.physics.add.existing(this),this.speed=300,this.maxDistance=300,this.traveledDistance=0,this.cooldown=500,this.damage=10,this.body.setSize(this.width-13,this.height-20),this.effectManager=new a.default(this.scene)}preUpdate(e,t){super.preUpdate(e,t),this.traveledDistance+=this.body.deltaAbsX(),this.traveledDistance>=this.maxDistance&&(this.body.reset(0,0),this.activateProjectile(!1),this.traveledDistance=0)}fire(e,t,s){this.activateProjectile(!0),this.body.reset(e,t),this.setVelocityX(this.speed),s&&this.play(s,!0)}deliversHit(e){this.activateProjectile(!1),this.traveledDistance=0;const t={x:this.x,y:this.y};this.body.reset(0,0),this.effectManager.playEffectOn("hit-effect",e,t)}activateProjectile(e){this.setActive(e).setVisible(e)}}t.default=r},13:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(773),r=i(s(634));class n extends Phaser.Physics.Arcade.Group{constructor(e,t){super(e.physics.world,e),this.createMultiple({frameQuantity:5,active:!1,visible:!1,key:t,classType:r.default}),this.damage=10,this.timeFromLastShoot=null}fireProjectile(e,t){if(this.projectile=this.getFirstDead(!1),!this.projectile)return;if(this.timeFromLastShoot&&this.timeFromLastShoot+this.projectile.cooldown>(0,a.getTimestamp)())return;const s=e.getCenter();let i;e.lastDirection===Phaser.Physics.Arcade.FACING_RIGHT?(this.projectile.speed=Math.abs(this.projectile.speed),this.projectile.setFlipX(!1),i=s.x+10):(this.projectile.speed=-Math.abs(this.projectile.speed),this.projectile.setFlipX(!0),i=s.x-10),this.projectile.fire(i,s.y,t),this.timeFromLastShoot=(0,a.getTimestamp)()}}t.default=n},771:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Collectable=void 0;class s extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,i),e.add.existing(this),this.score=1,this.setOrigin(0,1),e.tweens.add({targets:this,y:this.y-3,duration:Phaser.Math.Between(1500,2500),repeat:-1,ease:"linear",yoyo:!0})}}t.Collectable=s},577:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,s,i,a){this.bar=new Phaser.GameObjects.Graphics(e),this.x=t/a,this.y=s/a,this.scale=a,this.value=i,this.size={width:40,height:8},this.pixelPerHealth=this.size.width/this.value,e.add.existing(this.bar),this.draw()}decrease(e){this.value=e<=0?0:e,this.draw()}draw(){this.bar.clear();this.bar.fillStyle(0),this.bar.fillRect(this.x,this.y,this.size.width+2,this.size.height+2),this.bar.fillStyle(16777096),this.bar.fillRect(this.x+2,this.y+2,this.size.width-2,this.size.height-2),this.healthWidth=Math.floor(this.value*this.pixelPerHealth),this.bar.fillStyle(65280),this.healthWidth<=this.size.width/3?this.bar.fillStyle(16711680):this.bar.fillStyle(65280),this.healthWidth>0&&this.bar.fillRect(this.x+2,this.y+2,this.healthWidth-2,this.size.height-2),this.bar.setScrollFactor(0,0).setScale(this.scale)}}},865:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Hud=void 0;class s extends Phaser.GameObjects.Container{constructor(e,t,s){super(e,t,s),e.add.existing(this);const{rightTopCorner:i}=e.config;this.containerWidth=70,this.setPosition(i.x-this.containerWidth,i.y+10),this.setScrollFactor(0),this.setupList()}setupList(){this.fontSize=20,this.createScore(),this.lineHeight=0,this.add(this.scoreBoard),this.list.forEach((e=>{e.setPosition(e.x,e.y+=this.lineHeight),this.lineHeight+=20}))}createScore(){const e=this.scene.add.text(0,0,"0",{fontSize:`${this.fontSize}px`,fill:"#fff"}),t=this.scene.add.image(e.width+5,0,"diamond").setOrigin(0).setScale(1.3);this.scoreBoard=this.scene.add.container(0,0,[e,t])}updateScoreBoard(e){const[t,s]=this.scoreBoard.list;t.setText(e),s.setX(t.width+5)}}t.Hud=s},351:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(191));t.default=class{constructor(e){this.scene=e}playEffectOn(e,t,s){new a.default(this.scene,0,0,e,s).playOn(t)}}},191:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class s extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s,i,a){super(e,t,s,i),e.add.existing(this),e.physics.add.existing(this),this.target=null,this.effectName=i,this.impactPosition=a,this.on("animationcomplete",(e=>{e.key===this.effectName&&this.destroy()}),this)}preUpdate(e,t){super.preUpdate(e,t),this.placeEffect()}placeEffect(){if(!this.target&&!this.body)return;const e=this.target.getCenter();this.body&&this.body.reset(e.x,this.impactPosition.y)}playOn(e){this.target=e,this.play(this.effectName,!0),this.placeEffect()}}t.default=s},552:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Birdman=void 0;const a=s(784),r=i(s(990));class n extends a.Enemy{constructor(e,t,s){super(e,t,s,"birdman"),(0,r.default)(this.scene.anims)}init(){super.init(),this.setSize(20,45).setOffset(7,20)}update(e,t){super.update(e,t),this.active&&(this.isPlayingAnims("birdman-hurt")||this.play("birdman-idle",!0))}takesHit(e){super.takesHit(e),this.play("birdman-hurt",!0)}}t.Birdman=n},784:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Enemy=void 0;const a=s(402),r=i(s(670));class n extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,i),this.config=this.scene.config,e.add.existing(this),e.physics.add.existing(this),Object.assign(this,{addCollider:a.addCollider,raycast:a.raycast,addOverlap:a.addOverlap}),Object.assign(this,r.default),this.init(),this.initEvents()}init(){this.gravity=500,this.speed=75,this.timeFromLastTurn=0,this.maxPatrolDistance=300,this.currentPatrolDistance=0,this.platformCollidersLayer=null,this.damage=20,this.health=20,this.bodyPossitionDifferenceX=0,this.rayGraphics=this.scene.add.graphics({lineStyle:{width:2,color:11141290}}),this.setGravityY(this.gravity).setCollideWorldBounds(!0).setImmovable(!0).setOrigin(.5,1).setVelocityX(this.speed)}initEvents(){this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this)}update(e,t){if(this.getBounds().bottom>600)return this.scene.events.removeListener(Phaser.Scenes.Events.UPDATE,this.update,this),this.setActive(!1),this.rayGraphics.clear(),void this.destroy();this.patroll(e)}patroll(e){if(!this.body||!this.body.onFloor())return;this.currentPatrolDistance+=Math.abs(this.prevX-this.prevX),this.body instanceof Phaser.Physics.Arcade.Body&&(this.prevX=this.body.prev.x,this.facingBody=this.body.facing);const{ray:t,hasHit:s}=this.raycast(this.body,30,this.platformCollidersLayer,1,this.prevX,this.facingBody,.2,this.bodyPossitionDifferenceX);this.ray=t,this.hasHit=s,(!s||this.currentPatrolDistance>=this.maxPatrolDistance)&&this.timeFromLastTurn+100<e&&(this.setFlipX(!this.flipX),this.setVelocityX(this.speed=-this.speed),this.timeFromLastTurn=e,this.currentPatrolDistance=0),this.config.debug&&t&&(this.rayGraphics.clear(),this.rayGraphics.strokeLineShape(this.ray))}setPlatformColliders(e){this.platformCollidersLayer=e}takesHit(e){"projectile"in e?e.projectile.deliversHit(this):e.deliversHit(this),this.health-=e.damage,e.setActive(!1),e.setVisible(!1),this.health<=0&&(this.setTint(16711680),this.setVelocity(0,-200),this.body.checkCollision.none=!0,this.setCollideWorldBounds(!1))}}t.Enemy=n},661:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;const a=i(s(613)),r=s(402),n=i(s(577)),l=i(s(13)),h=i(s(670)),o=i(s(338)),c=s(773),d=i(s(634)),p=i(s(984));class u extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"player"),e.add.existing(this),e.physics.add.existing(this),Object.assign(this,{addCollider:r.addCollider,addOverlap:r.addOverlap}),Object.assign(this,h.default),this.init(),this.initEvents()}init(){this.gravity=500,this.playerSpeed=150,this.jumpCount=0,this.consecutiveJump=1,this.hasBeenHit=!1,this.bounceVelovity=250,this.isSliding=!1,this.cursors=this.scene.input.keyboard.createCursorKeys(),this.jumpSound=this.scene.sound.add("jump-music",{volume:.2}),this.proyectileSound=this.scene.sound.add("projectile-launch-music",{volume:.2}),this.stepSound=this.scene.sound.add("step-music",{volume:.2}),this.swipeSound=this.scene.sound.add("swipe-music",{volume:.2}),this.lastDirection=Phaser.Physics.Arcade.FACING_RIGHT,this.projectiles=new l.default(this.scene,"iceball-1"),this.meleeWeapon=new o.default(this.scene,0,0,"sword-default"),this.healt=100,this.hp=new n.default(this.scene,this.scene.config.leftTopCorner.x+7,this.scene.config.leftTopCorner.y+7,this.healt,2),this.setGravityY(this.gravity).setSize(23,36).setCollideWorldBounds(!0).setOrigin(.5,1),(0,a.default)(this.scene.anims),this.handleAttacks(),this.handleMovements(),this.scene.time.addEvent({delay:350,repeat:-1,callbackScope:this,callback:()=>{this.isPlayingAnims("run")&&this.stepSound.play()}})}initEvents(){this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this)}update(e,t){if(this.hasBeenHit||this.isSliding||!this.body)return;if(this.getBounds().top>this.scene.config.height)return void p.default.emit("player_loose");const{left:s,right:i,space:a}=this.cursors;this.onFloor=this.body.onFloor();const r=Phaser.Input.Keyboard.JustDown(a);s.isDown?(this.lastDirection=Phaser.Physics.Arcade.FACING_LEFT,this.setVelocityX(-this.playerSpeed),this.setFlipX(!0)):i.isDown?(this.lastDirection=Phaser.Physics.Arcade.FACING_RIGHT,this.setVelocityX(this.playerSpeed),this.setFlipX(!1)):this.setVelocityX(0),r&&(this.onFloor||this.jumpCount<this.consecutiveJump)&&(this.jumpSound.play(),this.setVelocityY(2*-this.playerSpeed),this.jumpCount++),this.onFloor&&(this.jumpCount=0),this.isPlayingAnims("throw")||this.isPlayingAnims("slide")||(this.onFloor?0!==this.body.velocity.x?this.play("run",!0):this.play("idle",!0):this.play("jump",!0))}handleAttacks(){this.scene.input.keyboard.on("keydown-Q",(()=>{this.proyectileSound.play(),this.play("throw",!0),this.projectiles.fireProjectile(this,"iceball")})),this.scene.input.keyboard.on("keydown-E",(()=>{this.timeFromLastSwing&&this.timeFromLastSwing+this.meleeWeapon.attackSpeed>(0,c.getTimestamp)()||(this.swipeSound.play(),this.play("throw",!0),this.meleeWeapon.swing(this),this.timeFromLastSwing=(0,c.getTimestamp)())}))}handleMovements(){this.scene.input.keyboard.on("keydown-DOWN",(()=>{this.onFloor&&(this.body.setSize(this.width,this.height/2),this.setOffset(0,this.height/2),this.setVelocityX(0),this.play("slide",!0),this.isSliding=!0)})),this.scene.input.keyboard.on("keyup-DOWN",(()=>{this.body.setSize(this.width,38),this.setOffset(0,0),this.isSliding=!1}))}playDamageTween(){return this.scene.tweens.add({targets:this,duration:100,repeat:-1,tint:16777215})}bounceOff(){this.body.touching.right?this.setVelocity(-this.bounceVelovity):this.setVelocity(this.bounceVelovity),setTimeout((()=>{this.setVelocityY(-this.bounceVelovity)}),0)}bounceOffByTrap(){this.body.blocked.right?this.setVelocity(-this.bounceVelovity):this.setVelocity(this.bounceVelovity),setTimeout((()=>{this.setVelocityY(-this.bounceVelovity)}),0)}takesHit(e){this.hasBeenHit||(this.healt-=e.damage,this.healt<=0?p.default.emit("player_loose"):(this.hasBeenHit=!0,this.bounceOff(),this.hitAnims=this.playDamageTween(),this.hp.decrease(this.healt),this.scene.time.delayedCall(1e3,(()=>{this.hasBeenHit=!1,this.hitAnims.stop(),this.clearTint()}))))}takesProjectilesHit(e){if(this.hasBeenHit)return;let t;this.hasBeenHit=!0,this.bounceOff(),this.hitAnims=this.playDamageTween(),e.getChildren().forEach(((e,s)=>{e instanceof d.default&&(t=e.damage,e.deliversHit(this),e.setActive(!1),e.setVisible(!1))})),this.healt-=t,this.healt<=0?p.default.emit("player_loose"):(this.hp.decrease(this.healt),this.scene.time.delayedCall(1e3,(()=>{this.hasBeenHit=!1,this.hitAnims.stop(),this.clearTint()})))}takesTrapsHit(e){if(this.hasBeenHit)return;const t=e.layer.properties[0];this.healt-=t.value,this.healt<=0?p.default.emit("player_loose"):(this.hasBeenHit=!0,this.bounceOffByTrap(),this.hitAnims=this.playDamageTween(),this.hp.decrease(this.healt),this.scene.time.delayedCall(1e3,(()=>{this.hasBeenHit=!1,this.hitAnims.stop(),this.clearTint()})))}}t.Player=u},946:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Snaky=void 0;const a=s(784),r=i(s(68)),n=i(s(13));class l extends a.Enemy{constructor(e,t,s){super(e,t,s,"snaky"),(0,r.default)(this.scene.anims)}init(){super.init(),this.projectiles=new n.default(this.scene,"fireball-1"),this.timeFromLastAttack=0,this.attackDelay=this.getAttackDelay(),this.setSize(12,45).setOffset(10,15)}update(e,t){super.update(e,t),this.active&&(this.body.velocity.x>0?this.lastDirection=Phaser.Physics.Arcade.FACING_RIGHT:this.lastDirection=Phaser.Physics.Arcade.FACING_LEFT,this.timeFromLastAttack+this.attackDelay<=e&&(this.projectiles.fireProjectile(this,"fireball"),this.timeFromLastAttack=e,this.attackDelay=this.getAttackDelay()),this.active&&(this.isPlayingAnims("snaky-hurt")||this.play("snaky-walk",!0)))}getAttackDelay(){return Phaser.Math.Between(1e3,4e3)}takesHit(e){super.takesHit(e),this.play("snaky-hurt",!0)}}t.Snaky=l},984:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class s extends Phaser.Events.EventEmitter{constructor(){super()}}t.default=new s},378:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Collectables=void 0;const i=s(771);class a extends Phaser.Physics.Arcade.StaticGroup{constructor(e){super(e.physics.world,e,{classType:i.Collectable})}mapProperties(e){return e&&0!==e.length?e.reduce(((e,t)=>(e[t.name]=t.value,e)),{}):{}}addFromLayer(e){const{score:t,type:s}=this.mapProperties(e.properties);e.objects.forEach((e=>{const i=this.get(e.x,e.y,s),a=this.mapProperties(e.properties);i.score=a.score||t}))}}t.Collectables=a},995:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Enemies=void 0;const a=i(s(13)),r=s(402),n=s(987);class l extends Phaser.GameObjects.Group{constructor(e){super(e),Object.assign(this,{addCollider:r.addCollider,raycast:r.raycast})}getProjectiles(){const e=new Phaser.GameObjects.Group(this.scene);return this.getChildren().forEach((t=>{if("projectiles"in t){const s=t;s.projectiles instanceof a.default&&e.addMultiple(s.projectiles.getChildren())}})),e}getTypes(){return this.types=n.enemyTypeslist,this.types}}t.Enemies=l},607:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(260)),r=i(s(154)),n=i(s(816)),l=s(462),h=s(734),o=s(811),c=document.body.offsetWidth,d=600,p=1.2,u={mapOffset:1600>c?1600-c:0,width:c,height:d,zoomFactor:p,debug:!1,leftTopCorner:{x:(c-c/p)/2,y:50},rightTopCorner:{x:c/p+(c-c/p)/2,y:50},rightBottomCorner:{x:c/p+(c-c/p)/2,y:550},canGoBack:!1,lastLevel:3},y=[n.default,l.MenuScene,h.LevelsScene,r.default,o.CreditsScene],m=e=>new e(u),f=Object.assign(Object.assign({type:a.default.AUTO},u),{pixelArt:!0,physics:{default:"arcade",arcade:{debug:u.debug}},scene:y.map(m)});new a.default.Game(f)},670:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={isPlayingAnims(e){return this.anims.isPlaying&&this.anims.getCurrentKey()===e}}},402:(e,t)=>{let s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.raycast=t.addOverlap=t.addCollider=void 0,t.addCollider=function(e,t){var s;return null===(s=this.scene)||void 0===s||s.physics.add.collider(this,e,t,null,this),this},t.addOverlap=function(e,t,s){var i;return null===(i=this.scene)||void 0===i||i.physics.add.overlap(this,e,t,null,s||this),this},t.raycast=function(e,t=30,a,r=0,n,l,h=1,o){const{x:c,y:d,width:p,halfHeight:u}=e;if(o+=c-n,Math.abs(o)<=r&&void 0!==i)return{ray:s,hasHit:i};const y=new Phaser.Geom.Line;let m=!1;switch(l){case Phaser.Physics.Arcade.FACING_RIGHT:y.x1=c+p,y.y1=d+u,y.x2=y.x1+t*h,y.y2=y.y1+t;break;case Phaser.Physics.Arcade.FACING_LEFT:y.x1=c,y.y1=d+u,y.x2=y.x1-t*h,y.y2=y.y1+t}const f=a.getTilesWithinShape(y);return(null==f?void 0:f.length)>0&&(m=i=f.some((e=>-1!==e.index))),s=y,o=0,{ray:y,hasHit:m}}},10:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseScene=void 0;class s extends Phaser.Scene{constructor(e,t){super(e),this.config=t,this.screenCenter=[t.width/2,t.height/2],this.fontSize=75,this.lineHeight=84,this.fontOptions={fontSize:`${this.fontSize}px`,fill:"#713E01"}}create(){if(this.add.image(0,0,"menu-bg").setOrigin(0).setScale(2.7),this.config.canGoBack){this.add.image(this.config.width-10,this.config.height-10,"back").setOrigin(1).setScale(2).setInteractive().on("pointerup",(()=>{this.scene.start("MenuScene")}))}}createMenu(e,t){let s=0;e.forEach((e=>{const i=[this.screenCenter[0],this.screenCenter[1]+s];e.textGo=this.add.text(i[0],i[1],e.text,this.fontOptions).setOrigin(.5,1),s+=this.lineHeight,t(e)}))}}t.BaseScene=s},811:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreditsScene=void 0;const i=s(10);class a extends i.BaseScene{constructor(e){super("CreditsScene",Object.assign(Object.assign({},e),{canGoBack:!0})),this.menu=[{scene:"null",text:"Thank you for playing",textGo:null},{scene:"null",text:"With love ðŸ’œ Laura",textGo:null}]}create(){super.create(),this.createMenu(this.menu,(()=>{}))}}t.CreditsScene=a},734:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LevelsScene=void 0;const i=s(10);class a extends i.BaseScene{constructor(e){super("LevelsScene",Object.assign(Object.assign({},e),{canGoBack:!0}))}create(){super.create(),this.menu=[];const e=this.registry.get("unlocked-levels");for(let t=1;t<=e;t++)this.menu.push({scene:"PlayScene",text:`Level ${t}`,textGo:null,level:t});this.createMenu(this.menu,this.setupMenuEvents.bind(this))}setupMenuEvents(e){const t=e.textGo;t.setInteractive(),t.on("pointerover",(()=>{t.setStyle({fill:"#ff0"})})),t.on("pointerout",(()=>{t.setStyle({fill:"#713E01"})})),t.on("pointerup",(()=>{e.scene&&(this.registry.set("level",e.level),this.scene.start(e.scene)),"Exit"===e.text&&this.game.destroy(!0)}))}}t.LevelsScene=a},462:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MenuScene=void 0;const i=s(10);class a extends i.BaseScene{constructor(e){super("MenuScene",e),this.menu=[{scene:"PlayScene",text:"Play",textGo:null},{scene:"LevelsScene",text:"Levels",textGo:null},{scene:"null",text:"Exit",textGo:null}]}create(){super.create(),this.createMenu(this.menu,this.setupMenuEvents.bind(this))}setupMenuEvents(e){const t=e.textGo;t.setInteractive(),t.on("pointerover",(()=>{t.setStyle({fill:"#ff0"})})),t.on("pointerout",(()=>{t.setStyle({fill:"#713E01"})})),t.on("pointerup",(()=>{e.scene&&this.scene.start(e.scene),"Exit"===e.text&&this.game.destroy(!0)}))}}t.MenuScene=a},154:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(260)),r=s(661),n=s(995),l=i(s(813)),h=s(771),o=s(378),c=s(865),d=i(s(984));class p extends a.default.Scene{constructor(e){super("PlayScene"),this.birdmanEnemies=[],this.snakyEnemies=[],this.config=e}create({gameStatus:e}){this.score=0,this.playBgMusic(),this.createMaps(),(0,l.default)(this.anims),this.createLayers(),this.createBG(),this.getPlayerZones(),this.createCollectables(),this.createHud(),this.createPlayer(),this.createEnemies(),this.createPlayerColliders(),this.createEnemyColliders(),this.collectSound=this.sound.add("coin-pickup-music",{volume:.2}),this.createEndOfLevel(),this.setupFollowupCameraOn(this.player),this.createBackButton(),"player_loose"!==e&&this.createGameEvents()}playBgMusic(){this.sound.get("theme")||this.sound.add("theme",{loop:!0,volume:.05}).play()}createMaps(){this.map=this.make.tilemap({key:`level-${this.getCurrentLevel()}`}),this.map.addTilesetImage("main_lev_build_1","main_lev_build_1"),this.map.addTilesetImage("bg_spikes_tileset","bg-spikes-tileset")}createLayers(){const e=this.map.getTileset("main_lev_build_1"),t=this.map.getTileset("bg_spikes_tileset");this.map.createStaticLayer("distance",t).setDepth(-12),this.platformColliders=this.map.createStaticLayer("platforms_colliders",e),this.environment=this.map.createStaticLayer("environment",e).setDepth(-2),this.platforms=this.map.createStaticLayer("platforms",e),this.playerZones=this.map.getObjectLayer("player_zones"),this.enemySpawns=this.map.getObjectLayer("enemy_spawns"),this.collectablesLayer=this.map.getObjectLayer("collectables"),this.traps=this.map.createStaticLayer("traps",e),this.platformColliders.setCollisionByProperty({collides:!0}),this.traps.setCollisionByExclusion([-1])}createBG(){const e=this.map.getObjectLayer("distance_bg").objects[0];this.spikesImage=this.add.tileSprite(e.x,e.y,this.config.width,e.height,"bg-spikes-dark").setOrigin(0,.75).setDepth(-10).setScrollFactor(0,1),2===this.registry.get("level")?this.skyImage=this.add.tileSprite(0,0,this.config.width,180,"sky-play2").setOrigin(0,0).setDepth(-11).setScale(1.4).setScrollFactor(0,1).setTint(43775):this.skyImage=this.add.tileSprite(0,0,this.config.width,180,"sky-play").setOrigin(0,0).setDepth(-11).setScale(1.4).setScrollFactor(0,1)}createCollectables(){this.collectables=new o.Collectables(this).setDepth(-1),this.collectables.addFromLayer(this.collectablesLayer),this.collectables.playAnimation("diamond-shine")}createHud(){this.hud=new c.Hud(this,0,0)}createPlayer(){this.player=new r.Player(this,this.start.x,this.start.y)}createEnemies(){this.enemies=new n.Enemies(this);const e=this.enemies.getTypes();this.enemySpawns.objects.forEach(((t,s)=>{const i=new e[t.type](this,t.x,t.y);i.setPlatformColliders(this.platformColliders),this.enemies.add(i),"Birdman"==t.type&&this.birdmanEnemies.push(i),"Snaky"==t.type&&this.snakyEnemies.push(i)}))}onPlayerCollision(e,t){e.takesHit(t)}onWeaponHit(e){let t;"Birdman"==e.constructor.name&&(t=this.birdmanEnemies.find((t=>t.body===e.body))),"Snaky"==e.constructor.name&&(t=this.snakyEnemies.find((t=>t.body===e.body))),t&&t.takesHit(this.player.projectiles)}onMeleeWeaponHit(e){let t;"Birdman"==e.constructor.name&&(t=this.birdmanEnemies.find((t=>t.body===e.body))),"Snaky"==e.constructor.name&&(t=this.snakyEnemies.find((t=>t.body===e.body))),t&&t.takesHit(this.player.meleeWeapon)}onWeaponHitPlayer(){this.player.takesProjectilesHit(this.enemies.getProjectiles())}createEnemyColliders(){this.enemies.addCollider(this.platformColliders,null),this.birdmanEnemies.forEach((e=>{e.addCollider(this.player,(()=>this.onPlayerCollision(this.player,e))),e.addCollider(this.player.projectiles,(()=>this.onWeaponHit(e))),e.addOverlap(this.player.meleeWeapon,(()=>this.onMeleeWeaponHit(e)),null)})),this.snakyEnemies.forEach((e=>{e.addCollider(this.player,(()=>this.onPlayerCollision(this.player,e))),e.addCollider(this.player.projectiles,(()=>this.onWeaponHit(e))),e.addOverlap(this.player.meleeWeapon,(()=>this.onMeleeWeaponHit(e)),null)}))}onCollect(e){e instanceof h.Collectable&&(this.score+=e.score,this.hud.updateScoreBoard(this.score.toString()),this.collectSound.play()),e instanceof a.default.Physics.Arcade.Sprite&&e.disableBody(!0,!0)}createPlayerColliders(){this.player.addCollider(this.platformColliders,null),this.player.addCollider(this.enemies.getProjectiles(),(()=>this.onWeaponHitPlayer())),this.player.addCollider(this.traps,(()=>{this.player.takesTrapsHit(this.traps)})),this.physics.add.overlap(this.player,this.collectables,((e,t)=>{this.onCollect(t)}))}createBackButton(){this.add.image(this.config.rightBottomCorner.x,this.config.rightBottomCorner.y,"back").setOrigin(1).setScrollFactor(0).setScale(2).setInteractive().on("pointerup",(()=>{this.scene.start("MenuScene")}))}createGameEvents(){d.default.on("player_loose",(()=>{this.scene.restart({gameStatus:"player_loose"})}))}getCurrentLevel(){return this.registry.get("level")||1}createEndOfLevel(){const e=this.physics.add.sprite(this.end.x,this.end.y,"end").setAlpha(0).setSize(5,this.config.height).setOrigin(.5,1),t=this.physics.add.overlap(this.player,e,(()=>{t.active=!1,this.registry.get("level")!==this.config.lastLevel?(this.registry.inc("level",1),this.registry.inc("unlocked-levels",1),this.scene.restart({gameStatus:"level-completed"})):this.scene.start("CreditsScene")}))}setupFollowupCameraOn(e){const{height:t,width:s,mapOffset:i,zoomFactor:a}=this.config;this.physics.world.setBounds(0,0,s+i,t+200),this.cameras.main.setBounds(0,0,s+i,t).setZoom(a),this.cameras.main.startFollow(e)}getPlayerZones(){this.objectsPlayerZones=this.playerZones.objects,this.start=this.objectsPlayerZones.find((e=>"startZone"===e.name)),this.end=this.objectsPlayerZones.find((e=>"endZone"===e.name))}update(e,t){this.spikesImage.tilePositionX=.3*this.cameras.main.scrollX,this.skyImage.tilePositionX=.1*this.cameras.main.scrollX}}t.default=p},816:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(260));class r extends a.default.Scene{constructor(){super("PreloadScene")}preload(){this.load.tilemapTiledJSON("level-1","assets/crystal_map.json"),this.load.tilemapTiledJSON("level-2","assets/crystal_world_map_level_2.json"),this.load.tilemapTiledJSON("level-3","assets/crystal_world_map_level_3.json"),this.load.image("main_lev_build_1","assets/main_lev_build_1.png"),this.load.image("main_lev_build_2","assets/main_lev_build_2.png"),this.load.image("bg-spikes-dark","assets/bg_spikes_dark.png"),this.load.image("sky-play","assets/sky_play.png"),this.load.image("sky-play2","assets/background01_blue.png"),this.load.image("bg-spikes-tileset","assets/bg_spikes_tileset.png"),this.load.image("menu-bg","assets/background01.png"),this.load.image("back","assets/back.png"),this.load.image("iceball-1","assets/weapons/iceball_001.png"),this.load.image("iceball-2","assets/weapons/iceball_002.png"),this.load.image("fireball-1","assets/weapons/improved_fireball_001.png"),this.load.image("fireball-2","assets/weapons/improved_fireball_002.png"),this.load.image("fireball-3","assets/weapons/improved_fireball_003.png"),this.load.image("diamond","assets/collectables/diamond.png"),this.load.image("diamond-1","assets/collectables/diamond_big_01.png"),this.load.image("diamond-2","assets/collectables/diamond_big_02.png"),this.load.image("diamond-3","assets/collectables/diamond_big_03.png"),this.load.image("diamond-4","assets/collectables/diamond_big_04.png"),this.load.image("diamond-5","assets/collectables/diamond_big_05.png"),this.load.image("diamond-6","assets/collectables/diamond_big_06.png"),this.load.spritesheet("player","assets/player/move_sprite_1.png",{frameWidth:32,frameHeight:38,spacing:32}),this.load.spritesheet("player-slide-sheet","assets/player/slide_sheet_1.png",{frameWidth:32,frameHeight:38,spacing:32}),this.load.spritesheet("birdman","assets/enemy/enemy_sheet.png",{frameWidth:32,frameHeight:64,spacing:32}),this.load.spritesheet("snaky","assets/enemy/enemy_sheet_2.png",{frameWidth:32,frameHeight:64,spacing:32}),this.load.spritesheet("player-throw","assets/player/throw_attack_sheet_1.png",{frameWidth:32,frameHeight:38,spacing:32}),this.load.spritesheet("hit-sheet","assets/weapons/hit_effect_sheet.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("sword-default","assets/weapons/sword_sheet_1.png",{frameWidth:52,frameHeight:32,spacing:16}),this.load.audio("theme","assets/music/theme_music.wav"),this.load.audio("projectile-launch-music","assets/music/projectile_launch.wav"),this.load.audio("step-music","assets/music/step_mud.wav"),this.load.audio("jump-music","assets/music/jump.wav"),this.load.audio("swipe-music","assets/music/swipe.wav"),this.load.audio("coin-pickup-music","assets/music/coin_pickup.wav"),this.load.once("complete",(()=>{this.startGame()}))}startGame(){this.registry.set("level",1),this.registry.set("unlocked-levels",1),this.scene.start("MenuScene")}}t.default=r},987:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.enemyTypeslist=void 0;const i=s(552),a=s(946);t.enemyTypeslist={Birdman:i.Birdman,Snaky:a.Snaky}},773:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTimestamp=void 0;t.getTimestamp=()=>(new Date).getTime()}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,s,a,r)=>{if(!s){var n=1/0;for(c=0;c<e.length;c++){for(var[s,a,r]=e[c],l=!0,h=0;h<s.length;h++)(!1&r||n>=r)&&Object.keys(i.O).every((e=>i.O[e](s[h])))?s.splice(h--,1):(l=!1,r<n&&(n=r));if(l){e.splice(c--,1);var o=a();void 0!==o&&(t=o)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,a,r]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,[n,l,h]=s,o=0;if(n.some((t=>0!==e[t]))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(h)var c=h(i)}for(t&&t(s);o<n.length;o++)r=n[o],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},s=self.webpackChunkphaser_webpack_boilerplate=self.webpackChunkphaser_webpack_boilerplate||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=i.O(void 0,[736],(()=>i(607)));a=i.O(a)})();